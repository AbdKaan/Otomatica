add port and ip to arguments
Change the loop to iteratively instead of recursive(for stopping stack overflow)
https://realpython.com/intro-to-python-threading/